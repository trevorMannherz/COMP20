<!DOCTYPE html>
<html>
<head>
        <style type="text/css">
            body {
                font-family: sans-serif;
                text-align: center;
            }
            div#header{
                display: inline-block;
            }
        </style>
<meta charset="utf-8">
<title>Amicable?</title>
</head>
<body>
    <h1> Amicable? </h1>
    <script language="javascript" type="text/javascript">
        var num1 = 0;
        var num2 = 0;
        function getVals(){
            num1 = document.getElementById('num1').value;
            num2 = document.getElementById('num2').value;
        }

        //isFactor function and test code
        // alert("33 and 13: " + isFactor(33, 13) + "\n10 and 5: " + isFactor(10, 5) + "\n2 and 19: " + isFactor(2, 19) + "\n-20 and 2: " + isFactor(-20, 2));
        function isFactor(origNum, testNum) {
            if(origNum % testNum == 0) {
                return true;
            }
            return false;
        }

        //showFactors function and test code
        // var arr = [1, 2, 3, 4, 5, 6];
        // showFactors(arr);
        function showFactors(arr, id) {
            document.getElementById(id).innerHTML = ""; 
            for (i = 0; i < arr.length; i++) {
                document.getElementById(id).innerHTML += ' ' + arr[i]; 
            }
        }

        //addFactors function and test code
        // var arr = [1, -10, 1, 2, 3];
        // document.writeln(addFactors(arr));
        function addFactors(arr) {
            sum = 0;
            for(i = 0; i < arr.length; i++) {
                sum += arr[i];
            }
            return sum;
        }

        // showFactors(getFactors(20));

        function getFactors(num) {
            factors = [];
            for(i = 1; i <= Math.ceil(num / 2); i++) {
                if(isFactor(num, i)) {
                    factors.push(i);
                }
            }
            factors.sort(function(x, y) {
                return x - y;
            });
            return factors;
        }

        function isAmicable() {
            getVals();
            if(addFactors(getFactors(num1)) == num2 && addFactors(getFactors(num2)) == num1) {
                document.getElementById("result").innerHTML = "They are Amicable";
            } else {
                document.getElementById("result").innerHTML = "They are not Amicable";
            }  
            showFactors(getFactors(num1), "num1factors")
            showFactors(getFactors(num2), "num2factors")
            
        }

	</script>
	<form>
		First Number: <input type='text' id='num1' value=''> <br>
		Second Number: <input type='text' id='num2' value=''> <br>
		<input type="button" onclick="isAmicable()" value="Check if amicable"> <br>
        <br>
        <div value="" id="result"></div> <br>
        First number's factors: <div value="" id="num1factors"><br></div> <br>
        Second number's factors: <div value="" id="num2factors"><br></div>
	</form>
</body>
</html>
